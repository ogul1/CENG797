[General]
description = "MST-based Clustering - Base Configuration"
network = mstclustering.MstClusteringNetwork

sim-time-limit = 300s
warmup-period = 10s

num-rngs = 3
**.mobility.rng-0 = 1
**.wlan[*].mac.rng-0 = 2

record-eventlog = false
**.vector-recording = true
**.scalar-recording = true

*.numNodes = 20
*.playgroundSizeX = 600m
*.playgroundSizeY = 600m

*.configurator.config = xml("<config><interface hosts='**' address='10.x.x.x' netmask='255.x.x.x'/><autoroute metric='hopCount'/></config>")
*.node[*].ipv4.arp.typename = "GlobalArp"

*.node[*].mstClustering.helloInterval = 1s
*.node[*].mstClustering.mstUpdateInterval = 2s
*.node[*].mstClustering.clusterTimeout = 5s
*.node[*].mstClustering.enableDynamicMst = true
*.node[*].mstClustering.maxClusters = 5
*.node[*].mstClustering.maxClusterSize = 10
*.node[*].mstClustering.clusterThreshold = 0.5
*.node[*].mstClustering.edgeWeightAlpha = 0.5
*.node[*].mstClustering.edgeWeightBeta = 0.3
*.node[*].mstClustering.edgeWeightGamma = 0.2
*.node[*].mstClustering.communicationRange = 300m

*.node[*].mobility.typename = "MassMobility"
*.node[*].mobility.constraintAreaMinX = 0m
*.node[*].mobility.constraintAreaMinY = 0m
*.node[*].mobility.constraintAreaMinZ = 0m
*.node[*].mobility.constraintAreaMaxX = 600m
*.node[*].mobility.constraintAreaMaxY = 600m
*.node[*].mobility.constraintAreaMaxZ = 0m
*.node[*].mobility.initFromDisplayString = false
*.node[*].mobility.changeInterval = truncnormal(2s, 0.5s)
*.node[*].mobility.angleDelta = normal(0deg, 30deg)
*.node[*].mobility.speed = truncnormal(10mps, 5mps)

*.radioMedium.typename = "UnitDiskRadioMedium"
*.node[*].wlan[*].typename = "AckingWirelessInterface"
*.node[*].wlan[*].radio.typename = "UnitDiskRadio"
*.node[*].wlan[*].radio.transmitter.communicationRange = 300m
*.node[*].wlan[*].radio.transmitter.interferenceRange = 500m
*.node[*].wlan[*].radio.transmitter.detectionRange = 600m
*.node[*].wlan[*].radio.receiver.ignoreInterference = false
*.node[*].wlan[*].mac.headerLength = 23B
*.node[*].**.bitrate = 1Mbps

*.node[*].hasStatus = true
*.node[*].energyStorage.typename = "SimpleEpEnergyStorage"
*.node[*].energyStorage.nominalCapacity = 10000J
*.node[*].energyStorage.initialCapacity = uniform(5000J, 10000J)
*.node[*].wlan[*].radio.energyConsumer.typename = "StateBasedEpEnergyConsumer"
*.node[*].wlan[*].radio.energyConsumer.offPowerConsumption = 0mW
*.node[*].wlan[*].radio.energyConsumer.sleepPowerConsumption = 1mW
*.node[*].wlan[*].radio.energyConsumer.switchingPowerConsumption = 5mW
*.node[*].wlan[*].radio.energyConsumer.receiverIdlePowerConsumption = 2mW
*.node[*].wlan[*].radio.energyConsumer.receiverBusyPowerConsumption = 5mW
*.node[*].wlan[*].radio.energyConsumer.receiverReceivingPowerConsumption = 10mW
*.node[*].wlan[*].radio.energyConsumer.transmitterIdlePowerConsumption = 2mW
*.node[*].wlan[*].radio.energyConsumer.transmitterTransmittingPowerConsumption = 100mW

*.hasVisualizer = true
*.visualizer.*.mobilityVisualizer.displayMobility = true
*.visualizer.*.mobilityVisualizer.displayPositions = true
*.visualizer.*.mobilityVisualizer.displayOrientations = false
*.visualizer.*.mobilityVisualizer.displayVelocities = true
*.visualizer.*.mobilityVisualizer.displayMovementTrails = true

*.visualizer.*.mediumVisualizer.displaySignals = false
*.visualizer.*.mediumVisualizer.displayTransmissions = false
*.visualizer.*.mediumVisualizer.displayReceptions = false

*.visualizer.*.physicalLinkVisualizer.displayLinks = true
*.visualizer.*.physicalLinkVisualizer.lineColor = "dark"
*.visualizer.*.dataLinkVisualizer.displayLinks = true
*.visualizer.*.networkRouteVisualizer.displayRoutes = true

[Config Topology_Small]
description = "Small Network (10 nodes)"
extends = General
*.numNodes = 10
*.playgroundSizeX = 500m
*.playgroundSizeY = 500m
*.node[*].mstClustering.maxClusters = 3

[Config Topology_Medium]
description = "Medium Network (30 nodes)"
extends = General
*.numNodes = 30
*.playgroundSizeX = 800m
*.playgroundSizeY = 800m
*.node[*].mstClustering.maxClusters = 6

[Config Topology_Large]
description = "Large Network (50 nodes)"
extends = General
*.numNodes = 50
*.playgroundSizeX = 1200m
*.playgroundSizeY = 1200m
*.node[*].mstClustering.maxClusters = 10

[Config Topology_VeryLarge]
description = "Very Large Network (100 nodes)"
extends = General
*.numNodes = 100
*.playgroundSizeX = 2000m
*.playgroundSizeY = 2000m
*.node[*].mstClustering.maxClusters = 15

[Config Mobility_Mass]
description = "MassMobility Model"
extends = General
*.node[*].mobility.typename = "MassMobility"
*.node[*].mobility.changeInterval = truncnormal(2s, 0.5s)
*.node[*].mobility.angleDelta = normal(0deg, 30deg)
*.node[*].mobility.speed = truncnormal(10mps, 5mps)

[Config Mobility_Linear]
description = "LinearMobility Model"
extends = General
*.node[*].mobility.typename = "LinearMobility"
*.node[*].mobility.speed = uniform(5mps, 15mps)
*.node[*].mobility.angle = uniform(0deg, 360deg)

[Config Mobility_Circle]
description = "CircleMobility Model"
extends = General
*.node[*].mobility.typename = "CircleMobility"
*.node[*].mobility.cx = 500m
*.node[*].mobility.cy = 500m
*.node[*].mobility.r = uniform(50m, 300m)
*.node[*].mobility.speed = uniform(5mps, 20mps)
*.node[*].mobility.startAngle = uniform(0deg, 360deg)

[Config Mobility_RandomWaypoint]
description = "RandomWaypointMobility Model"
extends = General
*.node[*].mobility.typename = "RandomWaypointMobility"
*.node[*].mobility.speed = uniform(5mps, 15mps)
*.node[*].mobility.waitTime = uniform(0s, 5s)

[Config Mobility_GaussMarkov]
description = "GaussMarkovMobility Model"
extends = General
*.node[*].mobility.typename = "GaussMarkovMobility"
*.node[*].mobility.alpha = 0.5
*.node[*].mobility.speed = 10mps
*.node[*].mobility.speedStdDev = 2mps
*.node[*].mobility.angle = uniform(0deg, 360deg)
*.node[*].mobility.angleStdDev = 30deg
*.node[*].mobility.margin = 50m

[Config Mobility_Turtle]
description = "TurtleMobility Model"
extends = General
*.node[*].mobility.typename = "TurtleMobility"
*.node[*].mobility.turtleScript = xmldoc("turtle.xml")

[Config Mobility_Stationary]
description = "Stationary Nodes (No Mobility)"
extends = General
*.node[*].mobility.typename = "StationaryMobility"
*.node[*].mobility.initFromDisplayString = false

[Config Mobility_HighSpeed]
description = "High Speed Mobility"
extends = General
*.node[*].mobility.typename = "MassMobility"
*.node[*].mobility.speed = truncnormal(30mps, 10mps)
*.node[*].mobility.changeInterval = truncnormal(1s, 0.3s)

[Config Mobility_LowSpeed]
description = "Low Speed Mobility"
extends = General
*.node[*].mobility.typename = "MassMobility"
*.node[*].mobility.speed = truncnormal(2mps, 1mps)
*.node[*].mobility.changeInterval = truncnormal(5s, 1s)

[Config Energy_Ideal]
description = "Ideal Energy (Unlimited)"
extends = General
*.node[*].energyStorage.typename = "IdealEpEnergyStorage"

[Config Energy_Limited]
description = "Limited Energy Storage"
extends = General
*.node[*].energyStorage.typename = "SimpleEpEnergyStorage"
*.node[*].energyStorage.nominalCapacity = 5000J
*.node[*].energyStorage.initialCapacity = uniform(2000J, 5000J)

[Config Energy_Variable]
description = "Variable Initial Energy"
extends = General
*.node[*].energyStorage.typename = "SimpleEpEnergyStorage"
*.node[*].energyStorage.nominalCapacity = 10000J
*.node[*].energyStorage.initialCapacity = uniform(1000J, 10000J)

[Config Energy_HighConsumption]
description = "High Energy Consumption"
extends = General
*.node[*].wlan[*].radio.energyConsumer.transmitterTransmittingPowerConsumption = 500mW
*.node[*].wlan[*].radio.energyConsumer.receiverReceivingPowerConsumption = 50mW

[Config App_UDPBasic]
description = "UDP Basic Application"
extends = General
*.node[0].numApps = 1
*.node[0].app[0].typename = "UdpSink"
*.node[0].app[0].localPort = 5000

*.node[1..].numApps = 1
*.node[1..].app[0].typename = "UdpBasicApp"
*.node[1..].app[0].destAddresses = "node[0]"
*.node[1..].app[0].destPort = 5000
*.node[1..].app[0].messageLength = 1000B
*.node[1..].app[0].sendInterval = exponential(100ms)
*.node[1..].app[0].startTime = uniform(1s, 5s)

[Config App_PingApp]
description = "Ping Application"
extends = General
*.node[0].numApps = 0
*.node[1..].numApps = 1
*.node[1..].app[0].typename = "PingApp"
*.node[1..].app[0].destAddr = "node[0]"
*.node[1..].app[0].startTime = uniform(1s, 5s)
*.node[1..].app[0].sendInterval = 1s

[Config App_UDPBurst]
description = "UDP Burst Application"
extends = General
*.node[0].numApps = 1
*.node[0].app[0].typename = "UdpSink"
*.node[0].app[0].localPort = 5000

*.node[1..].numApps = 1
*.node[1..].app[0].typename = "UdpBasicBurst"
*.node[1..].app[0].destAddresses = "node[0]"
*.node[1..].app[0].destPort = 5000
*.node[1..].app[0].messageLength = 500B
*.node[1..].app[0].burstDuration = exponential(1s)
*.node[1..].app[0].sleepDuration = exponential(2s)
*.node[1..].app[0].sendInterval = 10ms
*.node[1..].app[0].startTime = uniform(1s, 3s)

[Config App_Mixed]
description = "Mixed Applications (UDP + Ping)"
extends = General
*.node[0..9].numApps = 1
*.node[0..9].app[0].typename = "UdpBasicApp"
*.node[0..9].app[0].destAddresses = "node[10]"
*.node[0..9].app[0].destPort = 5000
*.node[0..9].app[0].messageLength = 1000B
*.node[0..9].app[0].sendInterval = exponential(200ms)
*.node[0..9].app[0].startTime = uniform(1s, 5s)

*.node[10].numApps = 1
*.node[10].app[0].typename = "UdpSink"
*.node[10].app[0].localPort = 5000

*.node[11..].numApps = 1
*.node[11..].app[0].typename = "PingApp"
*.node[11..].app[0].destAddr = "node[0]"
*.node[11..].app[0].startTime = uniform(1s, 5s)

[Config Routing_AODV]
description = "AODV Routing Protocol"
extends = General
*.node[*].typename = "mstclustering.MstClusteringNodeAodv"
*.node[*].aodv.activeRouteTimeout = 3s
*.node[*].aodv.helloInterval = 1s
*.node[*].aodv.rreqRetries = 2
*.node[*].aodv.rreqRatelimit = 10
*.node[*].aodv.netDiameter = 35

[Config Routing_DSDV]
description = "DSDV Routing Protocol"
extends = General
*.node[*].typename = "mstclustering.MstClusteringNodeDsdv"
*.node[*].dsdv.helloInterval = 5s
*.node[*].dsdv.routeLifetime = 30s

[Config Routing_GPSR]
description = "GPSR Routing Protocol"
extends = General
*.node[*].typename = "mstclustering.MstClusteringNodeGpsr"
*.node[*].gpsr.beaconInterval = 10s
*.node[*].gpsr.maxJitter = 1s
*.node[*].gpsr.neighborValidityInterval = 30s

[Config MAC_CSMA]
description = "CSMA MAC Protocol"
extends = General
*.node[*].wlan[*].typename = "WirelessInterface"
*.node[*].wlan[*].mac.typename = "CsmaCaMac"
*.node[*].wlan[*].mac.ackTimeout = 300us
*.node[*].wlan[*].mac.useAck = true

[Config MAC_IEEE80211]
description = "IEEE 802.11 MAC Protocol"
extends = General
*.node[*].wlan[*].typename = "Ieee80211Interface"
*.node[*].wlan[*].mgmt.typename = "Ieee80211MgmtAdhoc"
*.node[*].wlan[*].agent.typename = ""

[Config MAC_BMAC]
description = "BMAC Protocol (Sensor Networks)"
extends = General
*.node[*].wlan[*].typename = "BMacInterface"
*.node[*].wlan[*].mac.slotDuration = 100ms
*.node[*].wlan[*].mac.checkInterval = 1s
*.node[*].wlan[*].mac.headerLength = 10B

[Config MAC_LMAC]
description = "LMAC Protocol (Sensor Networks)"
extends = General
*.node[*].wlan[*].typename = "LMacInterface"
*.node[*].wlan[*].mac.slotDuration = 100ms
*.node[*].wlan[*].mac.numSlots = 64

[Config MAC_XMAC]
description = "XMAC Protocol (Sensor Networks)"
extends = General
*.node[*].wlan[*].typename = "XMacInterface"
*.node[*].wlan[*].mac.slotDuration = 100ms
*.node[*].wlan[*].mac.checkInterval = 1s

[Config PHY_UnitDisk]
description = "UnitDisk Radio Model"
extends = General
*.radioMedium.typename = "UnitDiskRadioMedium"
*.node[*].wlan[*].radio.typename = "UnitDiskRadio"
*.node[*].wlan[*].radio.transmitter.communicationRange = 250m
*.node[*].wlan[*].radio.transmitter.interferenceRange = 500m

[Config PHY_APSKScalar]
description = "APSK Scalar Radio Model"
extends = General
*.radioMedium.typename = "ApskScalarRadioMedium"
*.radioMedium.backgroundNoise.power = -110dBm

*.node[*].wlan[*].radio.typename = "ApskScalarRadio"
*.node[*].wlan[*].radio.carrierFrequency = 2.4GHz
*.node[*].wlan[*].radio.bandwidth = 2MHz
*.node[*].wlan[*].radio.transmitter.power = 2mW
*.node[*].wlan[*].radio.transmitter.preambleDuration = 0s
*.node[*].wlan[*].radio.transmitter.headerLength = 8B
*.node[*].wlan[*].radio.receiver.sensitivity = -85dBm
*.node[*].wlan[*].radio.receiver.energyDetection = -85dBm
*.node[*].wlan[*].radio.receiver.snirThreshold = 4dB

[Config PHY_APSKDimensional]
description = "APSK Dimensional Radio Model"
extends = General
*.radioMedium.typename = "ApskDimensionalRadioMedium"
*.radioMedium.backgroundNoise.power = -110dBm

*.node[*].wlan[*].radio.typename = "ApskDimensionalRadio"
*.node[*].wlan[*].radio.carrierFrequency = 2.4GHz
*.node[*].wlan[*].radio.bandwidth = 2MHz
*.node[*].wlan[*].radio.transmitter.power = 2mW
*.node[*].wlan[*].radio.receiver.sensitivity = -85dBm
*.node[*].wlan[*].radio.receiver.energyDetection = -85dBm
*.node[*].wlan[*].radio.receiver.snirThreshold = 4dB

[Config PHY_Ieee80211Scalar]
description = "IEEE 802.11 Scalar Radio Model"
extends = General
*.radioMedium.typename = "Ieee80211ScalarRadioMedium"
*.radioMedium.backgroundNoise.power = -110dBm

*.node[*].wlan[*].typename = "Ieee80211Interface"
*.node[*].wlan[*].radio.typename = "Ieee80211ScalarRadio"
*.node[*].wlan[*].radio.transmitter.power = 2mW
*.node[*].wlan[*].radio.receiver.sensitivity = -85dBm
*.node[*].wlan[*].radio.receiver.energyDetection = -85dBm
*.node[*].wlan[*].radio.receiver.snirThreshold = 4dB

[Config PHY_Ieee80211Dimensional]
description = "IEEE 802.11 Dimensional Radio Model"
extends = General
*.radioMedium.typename = "Ieee80211DimensionalRadioMedium"
*.radioMedium.backgroundNoise.power = -110dBm

*.node[*].wlan[*].typename = "Ieee80211Interface"
*.node[*].wlan[*].radio.typename = "Ieee80211DimensionalRadio"
*.node[*].wlan[*].radio.transmitter.power = 2mW
*.node[*].wlan[*].radio.receiver.sensitivity = -85dBm

[Config PathLoss_FreeSpace]
description = "Free Space Path Loss Model"
extends = PHY_APSKScalar
*.radioMedium.pathLoss.typename = "FreeSpacePathLoss"

[Config PathLoss_TwoRay]
description = "Two Ray Path Loss Model"
extends = PHY_APSKScalar
*.radioMedium.pathLoss.typename = "TwoRayGroundReflection"

[Config PathLoss_Rayleigh]
description = "Rayleigh Fading Path Loss Model"
extends = PHY_APSKScalar
*.radioMedium.pathLoss.typename = "RayleighFading"

[Config PathLoss_Rician]
description = "Rician Fading Path Loss Model"
extends = PHY_APSKScalar
*.radioMedium.pathLoss.typename = "RicianFading"
*.radioMedium.pathLoss.k = 8

[Config PathLoss_LogNormal]
description = "Log Normal Shadowing Path Loss Model"
extends = PHY_APSKScalar
*.radioMedium.pathLoss.typename = "LogNormalShadowing"
*.radioMedium.pathLoss.sigma = 1.0

[Config Obstacles_Basic]
description = "Basic Obstacles Environment"
extends = General
*.hasPhysicalEnvironment = true
*.physicalEnvironment.config = xmldoc("obstacles.xml")
*.radioMedium.obstacleLoss.typename = "IdealObstacleLoss"

[Config Scenario_HighMobility_LargeNetwork]
description = "High Mobility + Large Network"
extends = Topology_Large, Mobility_HighSpeed

[Config Scenario_LowMobility_SmallNetwork]
description = "Low Mobility + Small Network"
extends = Topology_Small, Mobility_LowSpeed

[Config Scenario_AODV_UDP]
description = "AODV Routing with UDP Traffic"
extends = Routing_AODV, App_UDPBasic

[Config Scenario_DSDV_Mixed]
description = "DSDV Routing with Mixed Traffic"
extends = Routing_DSDV, App_Mixed

[Config Scenario_IEEE80211_Realistic]
description = "IEEE 802.11 with Realistic Path Loss"
extends = PHY_Ieee80211Scalar, PathLoss_Rician

[Config Scenario_SensorNetwork]
description = "Sensor Network Scenario (BMAC, Low Speed, Limited Energy)"
extends = MAC_BMAC, Mobility_LowSpeed, Energy_Limited
*.numNodes = 30
*.node[*].mstClustering.maxClusters = 6

[Config Scenario_VehicularNetwork]
description = "Vehicular Network Scenario (High Speed, IEEE 802.11)"
extends = Mobility_HighSpeed, PHY_Ieee80211Scalar
*.numNodes = 40
*.playgroundSizeX = 2000m
*.playgroundSizeY = 500m

[Config Study_ClusterCount]
description = "Parameter Study: Number of Clusters"
extends = General
*.node[*].mstClustering.maxClusters = ${numClusters=2,3,4,5,6,8,10}
repeat = 10

[Config Study_NodeDensity]
description = "Parameter Study: Node Density"
extends = General
*.numNodes = ${nodes=10,20,30,40,50,75,100}
repeat = 10

[Config Study_MobilitySpeed]
description = "Parameter Study: Mobility Speed"
extends = Mobility_Mass
*.node[*].mobility.speed = truncnormal(${speed=5,10,15,20,25,30}mps, 3mps)
repeat = 10

[Config Study_CommunicationRange]
description = "Parameter Study: Communication Range"
extends = PHY_UnitDisk
*.node[*].wlan[*].radio.transmitter.communicationRange = ${range=150,200,250,300,350}m
*.node[*].mstClustering.communicationRange = ${range}m
repeat = 10

[Config Study_EdgeWeights]
description = "Parameter Study: Edge Weight Parameters"
extends = General
*.node[*].mstClustering.edgeWeightAlpha = ${alpha=0.2,0.4,0.6,0.8}
*.node[*].mstClustering.edgeWeightBeta = ${beta=0.1,0.2,0.3,0.4}
*.node[*].mstClustering.edgeWeightGamma = ${gamma=0.1,0.2,0.3,0.4}
constraint = $alpha + $beta + $gamma == 1.0
repeat = 5

[Config Study_DynamicVsStatic_MST]
description = "Parameter Study: Dynamic vs Static MST"
extends = General
*.node[*].mstClustering.enableDynamicMst = ${dynamicMst=true,false}
repeat = 10

[Config Results_Detailed]
description = "Detailed Result Collection"
extends = General
**.vector-recording = true
**.scalar-recording = true
**.result-recording-modes = all
output-vector-file = "${resultdir}/${configname}-${runnumber}.vec"
output-scalar-file = "${resultdir}/${configname}-${runnumber}.sca"
eventlog-file = "${resultdir}/${configname}-${runnumber}.elog"
